.select-control
    .select-control-input(
        ng-class="{options : $dir.showOptions}"
        ng-disabled="$dir.disabled || $dir.ngDisabled"
        click-outside="$dir.onClickOutside()")

        //-
            label.select-control-search.form-control(
                for="{{ $dir.controlId }}"
                ng-show="($dir.mode == 'strict' && !$dir.showOptions) || !$dir.searchEnabled" 
                ng-click="$dir.searchOption()"
                ng-disabled="$dir.disabled || $dir.ngDisabled")
                span(ng-bind="$dir.value[$dir.as] || $dir.placeholder")
                .select-control-icon: .mdi(ng-class="$dir.showOptions ? 'mdi-chevron-up' : 'mdi-chevron-down'")

        .block.block-vouchers.block-vouchers-select(
            ng-click="$dir.searchOption()"
            ng-disabled="$dir.disabled || $dir.ngDisabled"
            ng-class="$dir.showOptions ? 'block-vouchers-select-open' : ''"
            ng-show="($dir.mode == 'strict' && !$dir.showOptions) || !$dir.searchEnabled")

            .voucher-item.voucher-item-select.voucher-item-select-placeholder
                .voucher-image
                    img(src="{{ $dir.value.fund.logo.sizes.thumbnail || $dir.value.fund.organization.logo.sizes.thumbnail || './assets/img/placeholders/fund-thumbnail.png' }}")

                .voucher-details: .flex.flex-horizontal
                    .flex.flex-vertical.flex-grow
                        .voucher-name(ng-bind="$dir.value.fund.name")
                        .voucher-organization(ng-bind="$dir.value.fund.organization.name")

                    .flex.flex-vertical.text-right
                        .voucher-value(ng-if="$dir.value.fund.type === 'budget'" ng-bind="$dir.value.amount | currency_format")
                        .voucher-date(ng-bind="$dir.value.expire_at_locale")

        input(
            id="{{ $dir.controlId }}"
            type="search"
            placeholder="{{ $dir.placeholder }}"
            ng-click="$dir.onInputClick()"
            ng-keydown="$dir.searchKeydown($event)"
            ng-show="$dir.searchEnabled && ($dir.mode == 'search' || ($dir.mode == 'strict' && $dir.showOptions))"
            ng-change="$dir.searchInputChanged()"
            ng-model="$dir.filter.q").select-control-search.form-control
        
        //- 
            .block.block-vouchers.block-vouchers-padding.block-vouchers-compact
            .voucher-item.voucher-item-compact.voucher-item-static(ng-repeat="voucher in $ctrl.vouchers")
                .voucher-image
                    img(src="{{ voucher.fund.logo.sizes.thumbnail || voucher.fund.organization.logo.sizes.thumbnail || './assets/img/placeholders/fund-thumbnail.png' }}")

                .voucher-details
                    .voucher-name(ng-bind="voucher.fund.name")
                    .voucher-organization(ng-bind="voucher.fund.organization.name")
                    .voucher-value(ng-if="voucher.fund.type === 'budget'" ng-bind="voucher.amount | currency_format")

                .voucher-overview(ng-if="$ctrl.vouchers.length > 1")
                    button.button.button-primary(ng-click="$ctrl.reserveProduct($ctrl.product, voucher)") Kies

            .block.block-vouchers.block-vouchers-padding.block-vouchers-compact
        select-control-options(
            ng-if="$dir.showOptions" 
            change="$dir.selectOption(option)" 
            options="$dir.optionsFiltered"
            options-preload-size="{{ optionsPreloadSize }}"
            template="select-control-options-voucher")