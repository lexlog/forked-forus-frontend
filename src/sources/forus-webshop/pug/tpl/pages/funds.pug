//- top-navbar
//- section.section.section-funds: .wrapper
//-     .block.block-breadcrumbs
//-         a(ui-sref="home").breadcrumb-item Home
//-         .breadcrumb-item.active(translate="funds.header.{{ $root.appConfigs.client_key }}.title" translate-default="{{ 'funds.header.title' | translate }}")
//-     .section-title(translate="funds.header.{{ $root.appConfigs.client_key }}.title" translate-default="{{ 'funds.header.title' | translate }}")
//-     .section-subtitle(translate="funds.header.{{ $root.appConfigs.client_key }}.subtitle" translate-default="{{ 'funds.header.subtitle' | translate }}")
    
//-     .block.block-funds
//-         .fund-item(ng-repeat="fund in $ctrl.funds")
//-             .fund-image
//-                 img(ng-src="{{ fund.logo.sizes.thumbnail || fund.organization.logo.sizes.thumbnail || './assets/img/placeholders/fund-thumbnail.png' }}")
//-             .fund-details
//-                 .fund-name 
//-                     | {{ fund.name }}
//-                     span(ng-show="funds.status == 'active'" translate="funds.status.active").label.label-primary.label-square
//-                 .fund-organization(ng-bind="fund.organization.name") 
//-                 .fund-description(ng-bind="fund.description") 
//-                 .fund-categories
//-                     .fund-categories-label(i18n="funds.labels.categories_label")
//-                     .fund-categories-list(ng-bind="fund.end_date_locale")

//-                 a.button.button-primary(
//-                     ng-if="!fund.alreadyReceived && fund.isApplicable" 
//-                     ng-click="$ctrl.applyFund(fund)" 
//-                     translate="funds.buttons.is_applicable")
                
//-                 a.button.button-default(
//-                     ng-if="!fund.alreadyReceived && !fund.isApplicable && $ctrl.appConfigs.features.funds.fund_requests" 
//-                     ui-sref="fund-request({fund_id: fund.id})"
//-                     translate="funds.buttons.start_request")
                
//-                 a.button.button-primary(
//-                     ng-if="fund.alreadyReceived" 
//-                     ui-sref="{{ fund.voucherStateName }}" 
//-                     translate="funds.buttons.already_received")

//-             .fund-criterias(ng-if="fund.criterioaList.length > 0")
//-                 .fund-criterias-label(translate="funds.labels.criteria" translate-values="{nth: fund.criterioaList.length}")
//-                 .fund-criteria-item(ng-repeat="criterion in fund.criterioaList")
//-                     .fund-criteria-item-label(ng-bind="criterion.key")
//-                     .fund-criteria-item-value(ng-bind="criterion.value")
        
//-         //- .block.block-show-more: a(href="#").button.button-primary.button-wide {{ "funds.buttons.more" | translate }}

//-         empty-block(
//-             ng-if="$ctrl.funds.length == 0"
//-             title="Geen fondsen beschikbaar"
//-             description="Momenteel zijn er geen regelingen om je voor aan te melden."
//-             text="Gebruik een activatiecode"
//-             hide-link="true")

block content
    .header-splash: .splash.splash-c
    .block.block-showcase(ng-class="{'block-showcase-fullscreen': $ctrl.showMap}")
        top-navbar
        
        .showcase-wrapper
            .showcase-mobile-filters(ng-class="{active: $ctrl.countFiltersApplied > 0}")
                .mobile-filters-count: .mobile-filters-count-value(ng-bind="$ctrl.countFiltersApplied")
                .mobile-filters-title Filter op categorieÃ«n en budgetten
                .mobile-filters-icon(ng-click="$ctrl.toggleMobileMenu()"): em.mdi.mdi-filter-outline

            .block.block-breadcrumbs
                a(ui-sref="home").breadcrumb-item Home
                .breadcrumb-item.active Aanbod
            
            .showcase-layout
                .showcase-aside.form.form-compact(ng-class="{'show-mobile': $ctrl.showModalFilters}")
                    .showcase-aside-block
                        .form-group
                            input.form-control(
                                ng-model="$ctrl.form.values.q"
                                placeholder="Zoeken..." 
                                type="search")

                        .form-group
                            label.form-label Organisatie
                            select(
                                ng-options="organization.id as organization.name for organization in $ctrl.organizations" 
                                ng-model="$ctrl.form.values.organization_id").form-control
                    
                .showcase-content
                    .showcase-content-header
                        .showcase-filters-title
                            div(ng-if="!$ctrl.showMap").pull-left
                                .showcase-filters-title-count(ng-bind="$ctrl.funds.meta.total")
                                | Aanvragen
                            .block.block-label-tabs.pull-right
                                .label-tab.label-tab-sm(
                                    ng-class="{active: $ctrl.display_type == 'list'}"
                                    ng-click="$ctrl.showAs('list')")
                                    em.mdi.mdi-format-list-text.icon-start
                                    | Lijst
                                .label-tab.label-tab-sm(
                                    ng-class="{active: $ctrl.display_type == 'grid'}"
                                    ng-click="$ctrl.showAs('grid')")
                                    em.mdi.mdi-view-grid-outline.icon-start
                                    | Foto's

                    .block.block-funds(ng-if="$ctrl.funds.data.length > 0 && $ctrl.display_type == 'grid'")
                        .fund-item(ng-repeat="fund in $ctrl.funds.data")
                            .fund-item-inner
                                .fund-image(style="background-image: url('{{ fund.logo.sizes.thumbnail || fund.organization.logo.sizes.thumbnail || './assets/img/placeholders/fund-thumbnail.png' }}')")
                                    img(ng-src="{{ fund.logo.sizes.thumbnail || fund.organization.logo.sizes.thumbnail || './assets/img/placeholders/fund-thumbnail.png' }}")
                                .fund-details
                                    .fund-organization Geemente {{ fund.organization.name }}
                                    .fund-name(ng-bind="fund.name")
                                .fund-actions
                                    .button.button-text.button-text-padless(ui-sref="fund-request({fund_id: fund.id})") Aanvragen
                    
                    .block.block-funds-list(ng-if="$ctrl.funds.data.length > 0 && $ctrl.display_type == 'list'" id="funds_list")
                        .fund-item(
                            ng-repeat="fund in $ctrl.funds.data")
                            .fund-photo
                                img(ng-src="{{ fund.logo.sizes.thumbnail || fund.organization.logo.sizes.thumbnail || './assets/img/placeholders/fund-thumbnail.png' }}")
                            .fund-content
                                .fund-details
                                    .fund-name(ng-bind="fund.name")
                                    .fund-description(ng-bind="fund.description")
                                .fund-actions
                                    button.button.button-primary.button-wide(ui-sref="fund-request({fund_id: fund.id})") Aanvragen

                    empty-block(
                        title= "{{ 'block_funds.labels.title' | translate }}"
                        description="{{ 'block_funds.labels.subtitle' | translate }}"
                        hide-link="true" 
                        ng-if="$ctrl.funds.data.length == 0")
                
                    .card(ng-if="$ctrl.funds"): .card-section(ng-show="$ctrl.funds.meta.last_page > 1"): paginator(
                        meta="$ctrl.funds.meta" 
                        filters="$ctrl.form.values" 
                        count-buttons="5" 
                        on-page-change="$ctrl.onPageChange(query)")


