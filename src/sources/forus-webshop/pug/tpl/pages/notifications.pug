top-navbar
section.section.section-voucher-details: .wrapper
    .block.block-breadcrumbs.hide-sm
        a(ui-sref="home").breadcrumb-item Home
        .breadcrumb-item.active Notifications

    .card.block.block-notifications-table(ng-if="$ctrl.notifications.data.length > 0")
        .card-header: .card-title Notifications
            span(ng-if="$ctrl.notifications.meta.total_unseen > 0") 
                | ({{$ctrl.notifications.meta.total_unseen}} new)
        
        .card-section.card-section-padless: table.table
            tr
                th DATE
                th Notification
            
            tr(ng-repeat="notification in $ctrl.notifications.data" ng-class="{dim: !notification.seen}")
                td.notification-date
                    em.mdi.mdi-clock-outline 
                    | {{ notification.created_at_locale }}
                td
                    .notification-title(ng-bind="notification.title")
                    .notification-description(ng-bind="notification.description")
            
    empty-block(
        title= "{{ 'block_notifications.labels.title' | translate }}"
        description="{{ 'block_notifications.labels.subtitle' | translate }}"
        hide-link="true" 
        ng-if="$ctrl.notifications.data.length == 0")

    .card(ng-if="$ctrl.notifications"): .card-section(ng-show="$ctrl.notifications.meta.last_page > 1"): paginator(
        meta="$ctrl.notifications.meta" 
        filters="$ctrl.form.values" 
        count-buttons="5" 
        on-page-change="$ctrl.onPageChange(query)")
