top-navbar.nar-var

main(id="main-content")
    section.section.section-fund
        .block.block-breadcrumbs
            a(ng-if="$ctrl.searchData" ui-sref="search-result($ctrl.searchData)").breadcrumb-item.breadcrumb-item-back
                em.mdi.mdi-chevron-left
                | Terug
            a(ui-sref="home").breadcrumb-item Home
            a.breadcrumb-item(
                ui-sref="funds"
                translate="funds.funds.{{ $ctrl.appConfigs.client_key }}.title"
                translate-default="{{'funds.header.title' | translate }}")
            a.breadcrumb-item.active(ng-bind="$ctrl.fund.name" aria-current="location")

        h1.sr-only Aanvragen
        h2.sr-only(ng-bind="$ctrl.fund.name")

        .block.block-fund
            mixin fund_actions
                .fund-action-buttons.col.col-md-3
                    button.button.button-primary.button-fill(
                        ng-if="$ctrl.fund.showRequestButton"
                        ui-sref="fund-activate({fund_id: $ctrl.fund.id})"
                        translate="funds.buttons.{{ $root.client_key }}.start_request" 
                        translate-default="{{ 'funds.buttons.start_request' | translate }}")

                    button.button.button-primary.button-fill.button-disabled(
                        ng-if="$ctrl.fund.showPendingButton"
                        translate="funds.buttons.is_pending")

                    button.button.button-primary.button-fill(
                        type="button"
                        ng-if="$ctrl.fund.showActivateButton" 
                        ng-click="$ctrl.applyFund($ctrl.fund)" 
                        translate="funds.buttons.is_applicable")

                    button.button.button-primary.button-fill(
                        ng-if="$ctrl.fund.alreadyReceived" 
                        ui-sref="{{ $ctrl.fund.voucherStateName }}" 
                        translate="funds.buttons.already_received")

            .fund-content
                .fund-card
                    .fund-details
                        .fund-details-title
                            .fund-name(ng-bind="$ctrl.fund.name") 
                            .fund-description(ng-if="$ctrl.fund.description_short" ng-bind="$ctrl.fund.description_short")
                            .fund-details-items                                 
                                .fund-details-item
                                    .fund-details-item-label Uitgifte door
                                    .fund-details-item-value(ng-bind="$ctrl.fund.organization.name")

                                .fund-details-item(ng-repeat="formula in $ctrl.formulaList.multiply" ng-if="$ctrl.fund.type == 'budget'")
                                    .fund-details-item-label(translate="fund.criterias.multiplied_amount")
                                    .fund-details-item-value(ng-bind="formula.amount | currency_format")                                 

                                .fund-details-item
                                    .fund-details-item-label Startdatum
                                    .fund-details-item-value(ng-bind="$ctrl.fund.start_date_locale")

                                .fund-details-item
                                    .fund-details-item-label Einddatum
                                    .fund-details-item-value(ng-bind="$ctrl.fund.end_date_locale")

                +fund_actions

        block-products(
            type="budget"
            ng-if="!$ctrl.fund.description_html && $ctrl.products"
            products="$ctrl.products.data"
            filters="{fund_id: $ctrl.fund.id}")

        block-products(
            type="subsidies"
            ng-if="!$ctrl.fund.description_html && $ctrl.subsidies"
            products="$ctrl.subsidies.data"
            filters="{fund_id: $ctrl.fund.id}") 

        .block.block-markdown(
            ng-if="$ctrl.fund.description_html" 
            ng-bind-html="$ctrl.fund.description_html")